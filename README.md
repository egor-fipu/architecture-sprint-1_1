# Микрофронтенды (Задание 1)

Микрофронтенды реализованы в рамках предложенного учебного проекта. 
В директории `frontend/microfrontend` созданы новые структуры проекта для каждого микрофронтенда.
Скопированы выбранные компоненты, стили и утилиты в соответствующие новые структуры.

## Выделенные микрофронтенды:

1. Аутентификация и регистрация (`auth`)
- Причина выделения: Функциональность аутентификации (вход/регистрация) часто разрабатывается и поддерживается отдельно, 
поскольку она требует особого подхода к безопасности и управления доступом. Этот модуль можно разрабатывать 
и поддерживать независимо, что делает его подходящим кандидатом для выделения в микрофронтенд.
- Изоляция данных: Микрофронтенд, связанный с аутентификацией, будет работать только с данными авторизации и токенами, 
не затрагивая бизнес-логику работы с фотографиями или профилями.
2. Профиль пользователя (`profile`)
- Причина выделения: Управление профилем пользователя (имя, аватар, персональная информация) — это самостоятельный домен с отдельной функциональностью. 
Это позволяет команде, ответственной за пользовательский профиль, фокусироваться на UX/UI, обновлении данных пользователя и безопасности личной информации.
- Независимость от бизнес-логики: Ведение профиля пользователя и его персональной информации отделено от остальных бизнес-операций 
(например, взаимодействия с карточками фотографий).
3. Работа с карточками (`cards`)
- Причина выделения: Управление карточками (фото) — это ядро бизнес-логики приложения Mesto. 
Оно включает такие функции, как добавление, удаление, сбор лайков, что делает его естественным модулем для выделения в микрофронтенд. 
Это важный и независимый домен, где можно легко вносить изменения и добавлять новые функции без влияния на другие части системы.
- Изоляция данных: Взаимодействие с карточками (фото, лайки) чётко отделено от данных профиля или аутентификации, что делает возможной изоляцию этого блока.
4. Основная оболочка (`shell`)
- Причина выделения: Оболочка приложения отвечает за глобальные компоненты, такие как навигация (меню), заголовок, футер, общие стили и контексты. 
Это логический блок, который должен существовать отдельно для того, чтобы обеспечивать инфраструктуру для рендеринга других микрофронтендов.
- Цель: Данный микрофронтенд фокусируется на интеграции других частей приложения и не имеет прямой зависимости от бизнес-логики, что делает его важным контейнером.

### Стратегии проектирования:
- `Вертикальная нарезка`: Каждая часть (аутентификация, профиль, карточки) решает свою уникальную задачу и может быть изменена независимо от других модулей. 
Это позволяет гибко вносить изменения, масштабировать приложение, а также тестировать и развёртывать микрофронтенды отдельно.
- `Автономность команд`: В случае реального проекта разные команды могут развивать отдельные микрофронтенды: одна команда занимается аутентификацией, 
другая — профилем, третья — бизнес-логикой карточек. Так обеспечивается независимая работа над проектом и более гибкий процесс разработки.
- `Повторное использование`: Например, модуль аутентификации может быть повторно использован в других приложениях, связанных с Mesto, 
или быть развёрнут как независимая библиотека. То же самое касается и работы с карточками.


## Выбор инструмента для создания микрофронтендов (`Webpack Module Federation`):

1) Гибкость в разделении приложения на модули:

Module Federation позволяет гибко разделять приложение на независимые микрофронтенды, 
при этом каждый микрофронтенд может иметь свои зависимости и версию библиотек (например, разные версии React, если потребуется).
Это важно, когда команды работают над своими микрофронтендами отдельно и не хотят ограничиваться зависимостями всего проекта.

2) Плавная интеграция и шеринговые зависимости:

Module Federation поддерживает sharable dependencies (общие зависимости), 
что позволяет избежать дублирования библиотек и уменьшить размер загружаемого кода. 
Например, React, ReactDOM и другие библиотеки могут быть общими для всех микрофронтендов, 
что делает приложение более производительным.

3) Динамическая загрузка модулей:

Module Federation позволяет динамически подключать микрофронтенды и загружать их по мере необходимости. 
В контексте Mesto это означает, что, например, микрофронтенд с профилем или карточками будет загружаться только тогда, 
когда пользователь перейдёт на соответствующую страницу, что уменьшает начальный объём загрузки данных.

4) Удобство разработки для независимых команд:

В Module Federation каждая команда может работать над своим микрофронтендом независимо, 
при этом общие зависимости (например, стили или компоненты UI) могут легко шэриться через механизм федерации модулей. 
Это упрощает совместную работу и снижает количество конфликтов при интеграции.

5) Масштабируемость и простота:

Module Federation позволяет масштабировать приложение путём добавления новых микрофронтендов 
без необходимости модификации центрального контейнера. Например, если нужно добавить новый 
микрофронтенд для галереи или комментариев, это можно сделать, не нарушая работы других микрофронтендов.

### Методы интеграции микрофронтендов (`Run-time`)
Для нашего учебного проекта, который разделен на несколько микрофронтендов (аутентификация, профиль, работа с карточками и т.д.), 
run-time интеграция является лучшим выбором, так как она обеспечивает:

- Гибкость разработки и деплоя,
- Быстрые релизы без пересборки всего приложения,
- Поддержку динамической загрузки модулей через Module Federation.

Этот подход позволит нам максимально использовать возможности микрофронтендов и ускорить процесс разработки, 
сохраняя при этом независимость между различными частями проекта.


### Методы композиции микрофронтендов (`Клиентская композиция`)
Клиентская композиция — это лучший выбор для нашего проекта, так как она позволяет динамически загружать микрофронтенды на стороне клиента, 
обеспечивая гибкость, масштабируемость и возможность независимого обновления разных частей приложения.

- Основное приложение загружается в браузере пользователя.
- Когда пользователь переходит на страницу аутентификации, браузер загружает и рендерит микрофронтенд для аутентификации с помощью Module Federation.
- Когда пользователь переходит к своему профилю, загружается соответствующий микрофронтенд профиля.
- Все эти процессы происходят на стороне клиента без участия сервера в процессе компоновки, что ускоряет реакцию системы и делает архитектуру более гибкой.


## Стратегия управления состоянием (`Redux`)
Выбор Redux в качестве стратегии управления состоянием при разделении нашего проекта на микрофронтенды обоснован следующими преимуществами:

- `Консистентность и предсказуемость`: обеспечивает единое и согласованное состояние во всем приложении.
- `Упрощение разработки и отладки`: стандартизирует подходы к управлению состоянием и предоставляет мощные инструменты для разработчиков.
- `Масштабируемость и сотрудничество`: позволяет разным командам работать независимо, не нарушая целостность общего состояния.
- `Превосходит альтернативы`: решает проблемы, связанные с другими стратегиями, 
такими как избыточность запросов в API-ориентированном подходе или сложность событийного взаимодействия в Pub/Sub.

Учитывая эти аргументы, использование Redux является наиболее подходящим выбором для нашего проекта при переходе к микрофронтенд-архитектуре. 
Это позволит нам обеспечить надежное и эффективное управление состоянием, улучшить взаимодействие между командами и повысить качество и стабильность приложения.

### Частности
Конкретно в нашем проекте некоторые части, выделенные в микрофронтенды, используют `CurrentUserContext`.
Необходимо вынести его логику в глобальный стор Redux, чтобы все микрофронтенды могли получать доступ к состоянию через один источник данных.


# Микросервисы (Задание 2)

https://drive.google.com/file/d/1trt8BMs4nqzx16OWdTBgeNcykMHN7UMn/view?usp=sharing